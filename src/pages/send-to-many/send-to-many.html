<!--
  Generated template for the SendToManyPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>send to many</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <div class="boxShadow bg-white mb-1" *ngFor="let user of allUsers">
    <ion-row>
      <ion-col col-5>
        <ion-input type="text" placeholder="Usercode"></ion-input>
      </ion-col>
      <ion-col col-5>
        <ion-input [(ngModel)]="user.amount" type="tel" placeholder="Amount"></ion-input>
      </ion-col>
      <ion-col col-2>
        <button (click)="user.status=true" ion-button block icon-only outline>
          <ion-icon name="checkmark"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
    <ion-item no-lines *ngIf="user.status">
      <ion-avatar item-start>
        <img [src]="user.userImg">
      </ion-avatar>
      <ion-label>
        <h3>{{user.userName}}</h3>
        <p>Amount: <strong>${{user.amount}}</strong></p>
      </ion-label>
    </ion-item>
    <button *ngIf="user.status" (click)="addMore()" ion-button block clear small>Add More</button>
  </div>

</ion-content>

<ion-footer padding>
  <button (click)="showConfirm=true" class="h-45" ion-button block icon-start>
    <ion-icon name="checkmark"></ion-icon> Send to all
  </button>
</ion-footer>


<div *ngIf="showConfirm" class="successModal">
  <div padding class="center innerDiv">
    <h2>Send Money!</h2>
    <p>Please input your passowrd to confirm your transaction.</p>
    <ion-item no-lines>
      <ion-input type="passowrd" placeholder="Password"></ion-input>
    </ion-item>
    <ion-row>
      <ion-col col-6 class="pl-0">
        <button color="danger" (click)="showConfirm=false" ion-button block class="h-45">Cancel</button>
      </ion-col>
      <ion-col col-6 class="pr-0">
        <button (click)="showConfirm=false; showSuccess=true" ion-button block class="h-45">Send</button>
      </ion-col>
    </ion-row>
  </div>
</div>


<div *ngIf="showSuccess" class="successModal">
  <div padding class="center innerDiv">
    <img src="./assets/imgs/user-check-512.png">
    <h4>Money has been sent successfully!</h4>
    <button class="h-45" ion-button block small (click)="navCtrl.pop()">Ok</button>
  </div>
</div>